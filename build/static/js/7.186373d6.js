webpackJsonp([7],{235:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(246),s=a.n(o),l=a(5),c=a.n(l),u=a(27),m=a(56),h=(a.n(m),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),f=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={num:140,value:"",name:["\u91ce\u539f\u65b0\u4e4b\u52a9","\u98ce\u95f4\u5f7b","\u6a31\u7530\u59ae\u59ae","\u6b63\u7537","\u554a\u5446"],hiden:!0,image:""},a.someoneShow=a.someoneShow.bind(a),a.wordChange=a.wordChange.bind(a),a.imageChange=a.imageChange.bind(a),a.topicChange=a.topicChange.bind(a),a.mouseEnter=a.mouseEnter.bind(a),a.submitBroadcast=a.submitBroadcast.bind(a),a}return i(t,e),h(t,[{key:"wordChange",value:function(){this.setState({value:this.refs.textarea.value,num:140-this.refs.textarea.value.length})}},{key:"someoneShow",value:function(){console.log("in"),this.setState({hiden:!1})}},{key:"imageChange",value:function(){}},{key:"topicChange",value:function(){this.setState({value:this.state.value+"#\u8bf7\u8f93\u5165\u4f60\u7684\u8bdd\u9898#",num:this.state.num-9})}},{key:"submitBroadcast",value:function(){if(""!=this.state.value){var e=localStorage.getItem("item")||0,t=(new Date).getTime(),a={text:this.state.value,image:this.state.image,time:t,like:0,comment:0,transport:0,id:e};localStorage.setItem("broadcast"+e,JSON.stringify(a)),this.setState({value:"",image:"",num:140}),localStorage.setItem("item",Number(e)+1),this.props.history.push("/broadcast")}}},{key:"mouseEnter",value:function(e){var t=this;this.setState({value:this.state.value+"@"+e.currentTarget.innerText,hiden:!0,num:this.state.num-1-e.currentTarget.innerText.length},function(){console.log(t.state.value)})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"public"},c.a.createElement("div",{className:"top"},c.a.createElement(u.d,{to:"/broadcast"},"\u53d6\u6d88"),c.a.createElement("span",null,"\u53d1\u5e7f\u64ad"),c.a.createElement("span",{onClick:this.submitBroadcast},"\u53d1\u5e03")),c.a.createElement("form",null,c.a.createElement("div",null,c.a.createElement("div",{className:"content"},c.a.createElement("textarea",{ref:"textarea",placeholder:"\u5206\u4eab\u751f\u6d3b\u70b9\u6ef4...",name:"content",onChange:this.wordChange,value:this.state.value}),c.a.createElement("ul",{className:"imageList"}))),c.a.createElement("div",{className:"bottom clearfix"},c.a.createElement("div",{className:"img fl"},c.a.createElement("input",{type:"file",accept:"image/png,image/gif,image/jpg,image/jepg",name:"image",onChange:this.imageChange})),c.a.createElement("div",{className:"fl pr"},c.a.createElement("span",{className:"someone",onClick:this.someoneShow}),c.a.createElement("ul",{className:s()({someoneName:!0,pa:!0,hiden:this.state.hiden})},this.state.name.map(function(t,a){return c.a.createElement("li",{onClick:e.mouseEnter,key:a},t)}))),c.a.createElement("span",{className:"fl topic",onClick:this.topicChange}),c.a.createElement("span",{className:"fr"},this.state.num))))}}]),t}(l.Component);t.default=f},246:function(e,t,a){var n,r;!function(){"use strict";function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(a.apply(null,n));else if("object"===r)for(var o in n)i.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?e.exports=a:(n=[],void 0!==(r=function(){return a}.apply(t,n))&&(e.exports=r))}()}});
//# sourceMappingURL=7.186373d6.js.map